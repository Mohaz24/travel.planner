var Client;(()=>{"use strict";var t={d:(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function a(){return a}t.r(e),t.d(e,{checkForForm:()=>a,handleSubmit:()=>o}),document.getElementById("reset").addEventListener("click",a);const o=async t=>{t.preventDefault();const e=document.getElementById("destination").value,a=document.getElementById("Start-date").valueAsDate,o=document.getElementById("end-date").valueAsDate;let l=new Date(a),d=(new Date(o).getTime()-l.getTime())/864e5,y=[],m=[],g=[];y=await n("http://api.geonames.org/searchJSON?q=","Mohaz38",e),m=await c("http://api.weatherbit.io/v2.0/forecast/daily?","eb3490b512ca4fe0b339229d8b6d1d18",y.geonames[0].lat,y.geonames[0].lng),g=await r("https://pixabay.com/api/?key=","31309714-790f68293239e31d1afb3419d",e),s("http://localhost:8081/postData",{cityName:e,startDate:a,endDate:o,image:g,weatherData:m,tripStart:d,trip:d}).then((function(t){console.log(t),i(g)}))},n=async function(t,e,a){const o=await fetch(t+a+"&username="+e);try{const t=await o.json();return console.log(t),t}catch(t){console.log("error",t)}},c=async function(t,e,a,o){const n=await fetch(t+"lat="+a+"&lon="+o+"&key="+e);try{const t=await n.json();return console.log(t),t}catch(t){console.log("error",t)}},r=async(t,e,a)=>{const o=await fetch(t+e+"&q="+a+" city&image=photo");try{const t=await o.json();return console.log(t),t}catch(t){console.log("error",t)}},s=async(t="",e={})=>{console.log(e);const a=await fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{const t=await a.json();return console.log(t),t}catch(t){console.log("error",t)}},i=async t=>{const e=await fetch("http://localhost:8081/getData");try{const a=await e.json();document.getElementById("result").innerHTML=`\n            <div class="details">\n            <h2 class="city">City: ${a.cityName}</h2>\n            <img src="https://www.weatherbit.io/static/img/icons/${a.weatherData.data[0].weather.icon}.png">\n            <p class="start-trip">Starts: ${a.tripStart} days </p>\n            <p class="trip">Ends: ${a.trip} days </p>\n            <h4> Temprature ${a.cityName}: ${a.weatherData.data[0].temp} degree </h4>\n            <div class="pic"><img src =${t.hits[0].webformatURL} alt='image' ${a.cityName}></div>\n           `}catch(t){console.log("error",t)}};document.getElementById("submit").addEventListener("click",o),Client=e})();